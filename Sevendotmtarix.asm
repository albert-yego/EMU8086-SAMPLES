.model small
.stack 100h 
.data
Dots DB	01111110b, 00010001b, 00010001b, 00010001b, 01111110b  ; A
     DB	01111111b, 01001001b, 01001001b, 01001001b, 00110110b  ; B
	 DB	00111110b, 01000001b, 01000001b, 01000001b, 00100010b  ; C
	 DB	01111111b, 01000001b, 01000001b, 00100010b, 00011100b  ; D
	 DB	01111111b, 01001001b, 01001001b, 01001001b, 01000001b  ; E
	 DB	01111111b, 00001001b, 00001001b, 00001001b, 00000001b  ; F
	 DB	00111110b, 01000001b, 01001001b, 01001001b, 01111010b  ; G
	 DB	01111111b, 00001000b, 00001000b, 00001000b, 01111111b  ; H
	 DB	00000000b, 00000000b, 01111111b, 00000000b, 00000000b  ; I
	 DB	00100000b, 01000000b, 01000000b, 01000000b, 00111111b  ; J
	 DB	01111111b, 00001000b, 00010100b, 00100010b, 01000001b  ; K 
	 DB	01111111b, 01000000b, 01000000b, 01000000b, 01000000b  ; L
	 DB	01111111b, 00000010b, 00000100b, 00000010b, 01111111b  ; M
	 DB	01111111b, 00000010b, 00001000b, 00100000b, 01111111b  ; N 
	 DB	00111110b, 01000001b, 01000001b, 01000001b, 00111110b  ; O
	 DB	01111111b, 00001001b, 00001001b, 00001001b, 00000110b  ; P
	 DB	00111110b, 01000001b, 01000001b, 01100001b, 01111110b  ; Q     
	 DB	01111111b, 00001001b, 00001001b, 00001001b, 01110110b  ; R
	 DB	00100110b, 01001001b, 01001001b, 01001001b, 00110010b  ; S
	 DB	00000001b, 00000001b, 01111111b, 00000001b, 00000001b  ; T
	 DB	00111111b, 01000000b, 01000000b, 01000000b, 00111111b  ; U
	 DB	00011111b, 00100000b, 01000000b, 00100000b, 00011111b  ; V
	 DB	01111111b, 00100000b, 00010000b, 00100000b, 01111111b  ; W 
	 DB	01100011b, 00010100b, 00001000b, 00010100b, 01100011b  ; X 
	 DB	00000001b, 00000010b, 01111100b, 00000010b, 00000001b  ; Y 
	 DB	01100001b, 01010001b, 01001001b, 01000101b, 01000011b  ; Z

input DB 9 DUP (?)
length DW 0  
TEXT1 DB 'THERE ARE TOO MANY CHARACTERS'
  

.code
BEGIN:

MOV AX, @data
MOV DS, AX
MOV ES, AX 

LEA DI, input

MOV DX,2000H

MOV AH, 1
READ:
INT 21H
CMP AL, 0DH
JE PRINTSTRING
STOSB
JMP READ

SCAN:
MOV AH, 08H  
INT 10H
JMP CHAR 

SETPOS:
MOV AH, 02H
INT 10h
JMP SCAN 


NEXTCHAR:
INC DL
MOV DH,16
MOV BH,0
JMP SETPOS


CHAR:
CMP AL, 'A'
JB EXIT
JE A 
CMP AL, 'B'
JE B
CMP AL, 'C'
JE C
CMP AL, 'D'
JE D
CMP AL, 'E'
JE E
CMP AL, 'F'
JE F
CMP AL, 'G'
JE G
CMP AL, 'H'
JE H
CMP AL, 'I'
JE I
CMP AL, 'J'
JE J
CMP AL, 'K'
JE K
CMP AL, 'L'
JE L
CMP AL, 'M'
JE M
CMP AL, 'N'
JE N
CMP AL, 'O'
JE O
CMP AL, 'P'
JE P
CMP AL, 'Q'
JE Q
CMP AL, 'R'
JE R
CMP AL, 'S'
JE S
CMP AL, 'T'
JE T
CMP AL, 'U'
JE U
CMP AL, 'V'
JE V
CMP AL, 'W'
JE W
CMP AL, 'X'
JE X
CMP AL, 'Y'
JE Y
CMP AL, 'Z'
JA EXIT
JE Z 

A: 
MOV BX, 0
JMP MAIN

B:
MOV BX, 5
JMP MAIN

C:
MOV BX, 10
JMP MAIN 

D:
MOV BX, 15
JMP MAIN

E:
MOV BX, 20
JMP MAIN

F:
MOV BX, 25
JMP MAIN

G:
MOV BX, 30
JMP MAIN

H:
MOV BX, 35
JMP MAIN 

I:
MOV BX, 40
JMP MAIN

J:
MOV BX, 45
JMP MAIN

K:
MOV BX, 50
JMP MAIN

L:
MOV BX, 55
JMP MAIN

M:
MOV BX, 60
JMP MAIN

N:
MOV BX, 65
JMP MAIN

O:
MOV BX, 70
JMP MAIN

P:
MOV BX, 75
JMP MAIN

Q:
MOV BX, 80
JMP MAIN

R:
MOV BX, 85
JMP MAIN

S:
MOV BX, 90
JMP MAIN

T:
MOV BX, 95
JMP MAIN

U:
MOV BX, 100
JMP MAIN

V:
MOV BX, 105
JMP MAIN

W:
MOV BX, 110
JMP MAIN

X:
MOV BX, 115
JMP MAIN

Y:
MOV BX, 120
JMP MAIN

Z:
MOV BX, 125
JMP MAIN

MAIN:
MOV SI,0
MOV CX,5

LOOPY:
MOV AL, Dots[BX][SI]
OUT DX,AL
INC SI
INC DX
CMP SI, 5
LOOPNE LOOPY	
JMP NEXTCHAR
     
PRINTSTRING:
MOV AL, "$"
STOSB
XOR BX, BX

KM: 
CMP [input+BX], '$'
JE DONE
CMP [input+BX], ' '
JE SPACE
INC BX
INC length
JMP KM

SPACE:
INC BX
JMP KM 

DONE:
MOV AH, 2
MOV DX, length
CMP DX,8
JA MESS2
JMP SCAN 

MESS2:    
LEA SI, TEXT1
MOV CX, 30
MOV AH, 0Eh
GO2:
LODSB
int 10h
LOOP GO2
JMP EXIT

EXIT:
END 
RET           